<!DOCTYPE html>
<html lang = "ja">
    <head>
        <meta charset = "utf-8">
        <title>N Art Gallery</title>
        <meta name = "description" content = "">
        <meta name = "viewport" content = "width = device-width, initial-scale = 1">
        <link rel = "icon" href = "favicon.ico">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap-reboot.min.css" integrity="sha512-IS8Z2ZgFvTz/yLxE6H07ip/Ad+yAGswoD1VliOeC2T4WaPFNPC1TwmQ5zomGS+syaR2oO3aXJGKaHv21Dspx0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />        
        <link rel = "stylesheet" href = "./css/headerhome.css">
        <link rel = "stylesheet" href = "./css/header.css">
        <link rel="icon" href="./img/icon/favicon.ico">
        <script type="text/javascript">
            (function(c,l,a,r,i,t,y){
                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
            })(window, document, "clarity", "script", "hbemz5l7yx");
          </script>
          <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-VX608231FB"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-VX608231FB');
        </script>
        <link rel="preload" as="image" href="./img/homeimages/1.jpg">
        <link rel="preload" as="image" href="./img/homeimages/2.jpg">
        <link rel="preload" as="image" href="./img/homeimages/3.jpg">
        <link rel="preload" as="image" href="./img/homeimages/4.jpg">
        <link rel="preload" as="image" href="./img/homeimages/6.jpg">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" integrity="sha512-ZnR2wlLbSbr8/c9AgLg3jQPAattCUImNsae6NHYnS9KrIwRdcY9DxFotXhNAKIKbAXlRnujIqUWoXXwqyFOeIQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>           
    <body>
    
        
        <header id = "headerhomewhite">            
            <div class="headerflex">
                <h1 class="site-titlewhite"><a href="index.html"><p>N Art Gallery</p></a></h1>
                <button class="navmenu-togglehome" onclick="toggleMobileMenu()">
                    <i class="bi bi-list" id="navmenu-bshow"></i>
                    <i class="bi bi-x mobile-hide" id="navmenu-bhide"></i>                
                </button>
            </div>
            <nav class="menu_pc mobile-hide" id="navmenuhome">
                <ul class = "ddmenu">
                    <li class = "checkwhite"><a href ="index.html">HOME</a></li>
                    <li><a href ="about.html">ABOUT</a></li>
                    <li><a href ="galleryhome.html">GALLERY</a></li>            
                    <li><a href ="https://ntatsuya.com/" target="_blank">BLOG</a></li>                              
                    <li><a href ="contact.html">CONTACT</a></li>                                                        
                    <li class = "darkmode">
                        <label for="forceDarkTheme">
                          <i id="toggleIconhome" class="bi bi-toggle2-off"></i>
                        </label>
                        <input type="checkbox" id="forceDarkTheme" class="checkbox-wrapper" />
                    </li> 
                </ul>
            </nav>
        </header>
                            
          
        <main>
            <div id="circle-container"></div>
            <div id="mainvisual">
                <div class="slideshow-container">
                    <img id="mypic" src="./img/homeimages/37.jpg" class="slideshow" />
                </div>
            </div>
        </main>
        
        <footer>
            Copyright &copy; 2023 Tatsuya Nakajima
        </footer>

        <script src="https://kit.fontawesome.com/8ec5ad380e.js" crossorigin="anonymous"></script>
        <script type="text/javascript">

            const pics_src = [
                "./img/homeimages/37.jpg",
                "./img/homeimages/38.jpg",
                "./img/homeimages/55.jpg",
                "./img/homeimages/16.jpg",
                //"./img/homeimages/4.jpg",
                "./img/homeimages/56.jpg"
            ];

            const pics_srcmobile = [
                "./img/homeimages/25.webp",
                "./img/homeimages/15.webp",
                "./img/homeimages/12.webp",
                "./img/homeimages/25.webp",
                "./img/homeimages/15.webp"
            ];
        
            let num = 0;
            let slideshowContainer = document.querySelector(".slideshow-container");
            let slideshow = document.querySelector(".slideshow");
            let circleContainer = document.getElementById("circle-container");
        
            function createCircle(index) {
                let circle = document.createElement("div");
                circle.classList.add("circle");
                if (index === num) {
                    circle.classList.add("active");
                }
                circle.addEventListener("click", function () {
                    changeImage(index);
                });
                circleContainer.appendChild(circle);
            }
        
            function changeImage(index) {
                if (index !== num) {
                    let nextImg = document.createElement("img");
                    if (window.matchMedia('(max-width: 768px)').matches) {
                        nextImg.src = pics_srcmobile[index];
                      } else {
                        nextImg.src = pics_src[index];
                      }
                    
                    nextImg.classList.add("slideshow", "fade");
        
                    slideshowContainer.appendChild(nextImg);
        
                    setTimeout(function () {
                        slideshow.style.opacity = 0;
                        nextImg.style.opacity = 1;
        
                        setTimeout(function () {
                            slideshowContainer.removeChild(slideshow);
                            slideshow = nextImg;
                            num = index;
                            updateActiveCircle();
                        }, 1000);
                    }, 1000);
                }
            }
        
            function updateActiveCircle() {
                let circles = document.querySelectorAll(".circle");
                circles.forEach(function (circle, index) {
                    if (index === num) {
                        circle.classList.add("active");
                    } else {
                        circle.classList.remove("active");
                    }
                });
            }
        
            function initialize() {
                pics_src.forEach(function (_, index) {
                    createCircle(index);
                });
                setInterval(crossDissolve, 10000);
            }
        
            function crossDissolve() {
                let nextIndex = (num + 1) % pics_src.length;
                changeImage(nextIndex);
            }
        
            initialize();
        </script>        
        <script src="togglehome.js"></script>
        <script src="indexhome.js"></script>
    </body>
</html>